<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›¢é˜Ÿç®¡ç†æ•ˆèƒ½å¹³è¡¡è½®</title>
    <style>
        body {
            font-family: 'Arial', 'å¾®è½¯é›…é»‘', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 28px;
        }
        
        .header p {
            color: #7f8c8d;
            font-size: 16px;
            margin-bottom: 0;
        }
        
        .wheel-container {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 40px;
            flex-wrap: wrap;
        }
        
        .wheel-section {
            flex: 1;
            min-width: 400px;
        }
        
        .assessment-form {
            flex: 1;
            min-width: 350px;
        }
        
        .wheel {
            width: 400px;
            height: 400px;
            margin: 0 auto;
            position: relative;
        }
        
        .assessment-item {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
        }
        
        .assessment-item h3 {
            margin: 0 0 10px 0;
            color: #2c3e50;
            font-size: 16px;
        }
        
        .assessment-item p {
            margin: 0 0 15px 0;
            color: #7f8c8d;
            font-size: 14px;
            line-height: 1.4;
        }
        
        .problem-description {
            background: #ffeaa7;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 4px solid #fdcb6e;
        }
        
        .problem-description p {
            margin-bottom: 8px;
            color: #2d3436;
            font-weight: bold;
            font-size: 13px;
        }
        
        .problem-description ul {
            margin: 0;
            padding-left: 20px;
            color: #2d3436;
        }
        
        .problem-description li {
            margin-bottom: 6px;
            font-size: 13px;
            line-height: 1.4;
        }
        
        .score-selector {
            display: flex;
            gap: 8px;
            align-items: center;
        }
        
        .score-option {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            border: 2px solid #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            background: white;
            position: relative;
        }
        
        .score-option:hover {
            border-color: #3498db;
            transform: scale(1.1);
        }
        
        .score-tooltip {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 14px 18px;
            border-radius: 16px;
            font-size: 14px;
            font-weight: 500;
            white-space: normal;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            margin-bottom: 12px;
            max-width: 280px;
            min-width: 200px;
            text-align: center;
            box-shadow: 0 12px 35px rgba(102, 126, 234, 0.5);
            border: 1px solid rgba(255,255,255,0.3);
            backdrop-filter: blur(12px);
            line-height: 1.6;
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        .score-tooltip::after {
            content: '';
            position: absolute;
            top: 100%;
            left: 50%;
            transform: translateX(-50%);
            border: 8px solid transparent;
            border-top-color: #667eea;
            filter: drop-shadow(0 3px 6px rgba(102, 126, 234, 0.3));
        }
        
        .score-option:hover .score-tooltip {
            opacity: 1;
            visibility: visible;
        }
        
        .score-option.selected {
            background: #3498db;
            color: white;
            border-color: #2980b9;
        }
        
        .score-option.low {
            border-color: #e74c3c;
        }
        
        .score-option.medium {
            border-color: #f39c12;
        }
        
        .score-option.high {
            border-color: #27ae60;
        }
        
        .score-option.selected.low {
            background: #e74c3c;
        }
        
        .score-option.selected.medium {
            background: #f39c12;
        }
        
        .score-option.selected.high {
            background: #27ae60;
        }
        
        .results-section {
            margin-top: 30px;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
        }
        
        .results-section h3 {
            color: #2c3e50;
            margin-bottom: 15px;
        }
        
        .improvement-areas {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .improvement-item {
            background: white;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #e74c3c;
        }
        
        .improvement-item h4 {
            margin: 0 0 5px 0;
            color: #2c3e50;
            font-size: 14px;
        }
        
        .improvement-item p {
            margin: 0;
            color: #7f8c8d;
            font-size: 13px;
        }
        
        .button-group {
            text-align: center;
            margin-top: 20px;
            gap: 15px;
            display: flex;
            justify-content: center;
        }
        
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-secondary {
            background: #ecf0f1;
            color: #2c3e50;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            font-size: 12px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 5px;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
        }
        
        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                padding: 20px;
                border-radius: 15px;
            }
            
            .header h1 {
                font-size: 24px;
                margin-bottom: 8px;
            }
            
            .header p {
                font-size: 14px;
                line-height: 1.4;
            }
            
            .wheel-container {
                flex-direction: column;
                gap: 20px;
            }
            
            .wheel-section {
                min-width: auto;
                order: 2;
            }
            
            .assessment-form {
                min-width: auto;
                order: 1;
            }
            
            .wheel {
                width: 280px;
                height: 280px;
            }
            
            .assessment-item {
                padding: 15px;
                margin-bottom: 12px;
            }
            
            .assessment-item h3 {
                font-size: 15px;
                margin-bottom: 8px;
            }
            
            .problem-description {
                padding: 12px;
                margin-bottom: 12px;
            }
            
            .problem-description p {
                font-size: 12px;
                margin-bottom: 6px;
            }
            
            .problem-description li {
                font-size: 12px;
                margin-bottom: 4px;
                line-height: 1.3;
            }
            
            .score-option {
                width: 32px;
                height: 32px;
                font-size: 14px;
            }
            
            .legend {
                flex-direction: column;
                gap: 8px;
                align-items: center;
                font-size: 11px;
            }
            
            .legend-item {
                gap: 6px;
            }
            
            .legend-color {
                width: 12px;
                height: 12px;
            }
            
            .results-section {
                margin-top: 20px;
                padding: 15px;
            }
            
            .results-section h3 {
                font-size: 18px;
                margin-bottom: 12px;
            }
            
            .improvement-areas {
                grid-template-columns: 1fr;
                gap: 10px;
            }
            
            .improvement-item {
                padding: 12px;
            }
            
            .improvement-item h4 {
                font-size: 13px;
            }
            
            .improvement-item p {
                font-size: 12px;
            }
            
            .button-group {
                flex-direction: column;
                gap: 10px;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 200px;
                padding: 10px 20px;
                font-size: 13px;
            }
            
            #submitSection {
                margin-top: 20px;
                padding: 15px;
            }
            
            #submitSection h3 {
                font-size: 16px;
                margin-bottom: 12px;
            }
            
            #submitSection label {
                font-size: 13px;
                margin-bottom: 3px;
            }
            
            #submitSection input,
            #submitSection textarea {
                font-size: 13px;
                padding: 6px;
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 22px;
            }
            
            .header p {
                font-size: 13px;
            }
            
            .wheel {
                width: 250px;
                height: 250px;
            }
            
            .assessment-item {
                padding: 12px;
            }
            
            .assessment-item h3 {
                font-size: 14px;
            }
            
            .problem-description {
                padding: 10px;
            }
            
            .score-option {
                width: 30px;
                height: 30px;
                font-size: 13px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ å›¢é˜Ÿç®¡ç†æ•ˆèƒ½è¯„ä¼°è½®</h1>
            <p>è¯·æ ¹æ®å½“å‰å›¢é˜Ÿçš„å®é™…æƒ…å†µï¼Œä¸ºä»¥ä¸‹8ä¸ªç®¡ç†æ•ˆèƒ½ç»´åº¦æ‰“åˆ†</p>
        </div>
        
        <div class="wheel-container">
            <div class="wheel-section">
                <div class="legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #e74c3c;"></div>
                        <span>1-2åˆ†ï¼šé˜»ç¢</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #f39c12;"></div>
                        <span>3åˆ†ï¼šå»ºè®¾</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #27ae60;"></div>
                        <span>4-5åˆ†ï¼šä¼˜åŒ–</span>
                    </div>
                </div>
                
                <div class="score-criteria" style="margin-bottom: 20px; padding: 15px; background: #f8f9fa; border-radius: 8px; font-size: 12px;">
                    <h4 style="margin: 0 0 10px 0; color: #2c3e50;">ğŸ“Š è¯„åˆ†æ ‡å‡†è¯´æ˜</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px;">
                        <div>
                            <strong style="color: #e74c3c;">1åˆ† - æ··ä¹±æ— åº</strong><br>
                            å®Œå…¨ä¾èµ–æœ¬èƒ½ååº”ï¼Œæ— ä»»ä½•æµç¨‹æˆ–å·¥å…·ï¼Œé—®é¢˜é¢‘å‘ä¸”æ— æ³•é¢„æµ‹
                        </div>
                        <div>
                            <strong style="color: #e74c3c;">2åˆ† - åˆæ­¥æ„è¯†</strong><br>
                            è®¤è¯†åˆ°é—®é¢˜å­˜åœ¨ï¼Œå¼€å§‹å°è¯•ä¸€äº›é›¶æ•£æ–¹æ³•ï¼Œä½†æ‰§è¡Œä¸ç³»ç»Ÿï¼Œæ•ˆæœæœ‰é™
                        </div>
                        <div>
                            <strong style="color: #f39c12;">3åˆ† - åŸºç¡€å»ºç«‹</strong><br>
                            æœ‰åŸºæœ¬æµç¨‹å’Œå·¥å…·ï¼Œå›¢é˜Ÿèƒ½å¤Ÿæ‰§è¡Œï¼Œä½†ä¸å¤Ÿæˆç†Ÿï¼Œéœ€è¦æŒç»­æ”¹è¿›
                        </div>
                        <div>
                            <strong style="color: #27ae60;">4åˆ† - æˆç†Ÿç¨³å®š</strong><br>
                            æµç¨‹æˆç†Ÿï¼Œå¤§éƒ¨åˆ†å›¢é˜Ÿèƒ½è‡ªè§‰æ‰§è¡Œï¼Œæœ‰æ•°æ®æ”¯æ’‘ï¼Œæ•ˆæœç¨³å®š
                        </div>
                        <div>
                            <strong style="color: #27ae60;">5åˆ† - å“è¶Šä¼˜åŒ–</strong><br>
                            ç³»ç»ŸåŒ–æ–¹æ³•ï¼Œæ•°æ®é©±åŠ¨å†³ç­–ï¼ŒæŒç»­ä¼˜åŒ–åˆ›æ–°ï¼Œæˆä¸ºè¡Œä¸šæ ‡æ†
                        </div>
                    </div>
                </div>
                <canvas id="wheelCanvas" class="wheel" width="400" height="400"></canvas>
            </div>
            
            <div class="assessment-form">
                <div class="assessment-item">
                    <h3>ğŸ“Š é¡¹ç›®è¿›åº¦é€æ˜åº¦</h3>
                    <div class="problem-description">
                        <p><strong>å…¸å‹é—®é¢˜ï¼š</strong></p>
                        <ul>
                            <li>æƒ³äº†è§£é¡¹ç›®è¿›åº¦éœ€è¦æ‰“ç”µè¯æˆ–å¼€ä¼šè¯¢é—®</li>
                            <li>é¡¹ç›®çŠ¶æ€æŠ¥å‘Šæ›´æ–°ä¸åŠæ—¶ï¼Œä¿¡æ¯æ»å</li>
                            <li>æ— æ³•ç›´è§‚çœ‹åˆ°å„é¡¹ç›®çš„å®æ—¶çŠ¶æ€</li>
                            <li>é¡¹ç›®å»¶æœŸå¾€å¾€æ˜¯ä¸´æ—¶å‘ç°ï¼Œç¼ºä¹é¢„è­¦</li>
                        </ul>
                    </div>
                    <div class="score-selector" data-dimension="0">
                        <span class="score-option low" data-score="1">
                            1
                            <div class="score-tooltip">å®Œå…¨æ— é€æ˜åº¦ï¼šé¡¹ç›®çŠ¶æ€é»‘ç›’ï¼Œè¿›åº¦å®Œå…¨é çŒœæµ‹ï¼Œå»¶æœŸé¢‘ç¹ä¸”æ— é¢„è­¦</div>
                        </span>
                        <span class="score-option low" data-score="2">
                            2
                            <div class="score-tooltip">å¶å°”æ›´æ–°ï¼šæœ‰ä¸å®šæœŸæŠ¥å‘Šï¼Œä½†ä¿¡æ¯æ»åä¸¥é‡ï¼Œæ— æ³•åæ˜ çœŸå®æƒ…å†µ</div>
                        </span>
                        <span class="score-option medium" data-score="3">
                            3
                            <div class="score-tooltip">å®šæœŸæŠ¥å‘Šï¼šæœ‰å‘¨æŠ¥/æœˆæŠ¥ï¼Œä½†éœ€è¦ä¸»åŠ¨è¯¢é—®ï¼Œç¼ºä¹å®æ—¶æ€§</div>
                        </span>
                        <span class="score-option high" data-score="4">
                            4
                            <div class="score-tooltip">å¯è§†åŒ–çœ‹æ¿ï¼šä½¿ç”¨çœ‹æ¿å·¥å…·ï¼Œé¡¹ç›®çŠ¶æ€é€æ˜ï¼Œèƒ½åŠæ—¶å‘ç°é£é™©</div>
                        </span>
                        <span class="score-option high" data-score="5">
                            5
                            <div class="score-tooltip">å®æ—¶ç›‘æ§ï¼šè‡ªåŠ¨åŒ–ä»ªè¡¨ç›˜ï¼Œæ•°æ®é©±åŠ¨ï¼Œé¢„è­¦æœºåˆ¶å®Œå–„ï¼Œä¸»åŠ¨ç®¡ç†</div>
                        </span>
                    </div>
                </div>
                
                <div class="assessment-item">
                    <h3>âš¡ éœ€æ±‚å“åº”é€Ÿåº¦</h3>
                    <div class="problem-description">
                        <p><strong>å…¸å‹é—®é¢˜ï¼š</strong></p>
                        <ul>
                            <li>éœ€æ±‚è¯„ä¼°å‘¨æœŸé•¿ï¼Œç«‹é¡¹æµç¨‹å¤æ‚</li>
                            <li>éœ€æ±‚åœ¨å„éƒ¨é—¨é—´æµè½¬æ—¶é—´é•¿</li>
                            <li>ä¼˜å…ˆçº§æ’åºæœºåˆ¶ä¸æ¸…æ™°</li>
                            <li>ç´§æ€¥éœ€æ±‚éš¾ä»¥å¿«é€Ÿæ’å…¥å¤„ç†</li>
                        </ul>
                    </div>
                    <div class="score-selector" data-dimension="1">
                        <span class="score-option low" data-score="1">
                            1
                            <div class="score-tooltip">æå…¶ç¼“æ…¢ï¼šéœ€æ±‚è¯„ä¼°éœ€è¦æ•°å‘¨ï¼Œæµç¨‹ç¹çï¼Œå®¡æ‰¹ç¯èŠ‚å¤š</div>
                        </span>
                        <span class="score-option low" data-score="2">
                            2
                            <div class="score-tooltip">å“åº”è¿Ÿç¼“ï¼šéœ€æ±‚ç«‹é¡¹éœ€è¦1-2å‘¨ï¼Œè·¨éƒ¨é—¨åè°ƒå›°éš¾</div>
                        </span>
                        <span class="score-option medium" data-score="3">
                            3
                            <div class="score-tooltip">åŸºæœ¬å“åº”ï¼šæœ‰æ ‡å‡†åŒ–æµç¨‹ï¼Œä¸€èˆ¬éœ€æ±‚1å‘¨å†…å¯å¯åŠ¨</div>
                        </span>
                        <span class="score-option high" data-score="4">
                            4
                            <div class="score-tooltip">å¿«é€Ÿå“åº”ï¼šéœ€æ±‚è¯„ä¼°1-3å¤©ï¼Œæœ‰ä¼˜å…ˆçº§æœºåˆ¶ï¼Œç´§æ€¥éœ€æ±‚å¯å¿«é€Ÿå¤„ç†</div>
                        </span>
                        <span class="score-option high" data-score="5">
                            5
                            <div class="score-tooltip">å³æ—¶å“åº”ï¼šéœ€æ±‚å½“å¤©è¯„ä¼°ï¼Œè‡ªåŠ¨ä¼˜å…ˆçº§æ’åºï¼Œçµæ´»è°ƒæ•´èµ„æº</div>
                        </span>
                    </div>
                </div>
                
                <div class="assessment-item">
                    <h3>ğŸ¤ å›¢é˜Ÿåä½œæ•ˆç‡</h3>
                    <div class="problem-description">
                        <p><strong>å…¸å‹é—®é¢˜ï¼š</strong></p>
                        <ul>
                            <li>è·¨å›¢é˜Ÿæ²Ÿé€šä¸»è¦é ä¼šè®®ï¼Œæ•ˆç‡ä½</li>
                            <li>å›¢é˜Ÿé—´ä¾èµ–å…³ç³»ä¸é€æ˜</li>
                            <li>ä¿¡æ¯å­¤å²›ç°è±¡ï¼Œé‡å¤æ²Ÿé€šå¤š</li>
                            <li>åä½œè¿‡ç¨‹ç¼ºä¹æœ‰æ•ˆå·¥å…·æ”¯æ’‘</li>
                        </ul>
                    </div>
                    <div class="score-selector" data-dimension="2">
                        <span class="score-option low" data-score="1">
                            1
                            <div class="score-tooltip">ä¸¥é‡å‰²è£‚ï¼šå›¢é˜Ÿå„è‡ªä¸ºæ”¿ï¼Œæ²Ÿé€šå‡ ä¹é ä¼šè®®ï¼Œä¿¡æ¯ä¼ é€’ä¸¥é‡å¤±çœŸ</div>
                        </span>
                        <span class="score-option low" data-score="2">
                            2
                            <div class="score-tooltip">åä½œå›°éš¾ï¼šæœ‰åŸºç¡€æ²Ÿé€šæ¸ é“ï¼Œä½†æ•ˆç‡ä½ä¸‹ï¼Œä¾èµ–å…³ç³»ä¸æ¸…æ™°</div>
                        </span>
                        <span class="score-option medium" data-score="3">
                            3
                            <div class="score-tooltip">åŸºç¡€åä½œï¼šæœ‰å®šæœŸä¼šè®®å’Œæ²Ÿé€šæœºåˆ¶ï¼Œä½†åä½œå·¥å…·å’Œæµç¨‹æœ‰å¾…å®Œå–„</div>
                        </span>
                        <span class="score-option high" data-score="4">
                            4
                            <div class="score-tooltip">é«˜æ•ˆåä½œï¼šä½¿ç”¨åä½œå·¥å…·ï¼Œä¾èµ–å…³ç³»é€æ˜ï¼Œæ²Ÿé€šé¡ºç•…é«˜æ•ˆ</div>
                        </span>
                        <span class="score-option high" data-score="5">
                            5
                            <div class="score-tooltip">æ— ç¼åä½œï¼šè‡ªç»„ç»‡å›¢é˜Ÿï¼Œä¿¡æ¯å®Œå…¨é€æ˜ï¼Œå·¥å…·æ”¯æ’‘å®Œå–„ï¼ŒæŒç»­ä¼˜åŒ–</div>
                        </span>
                    </div>
                </div>
                
                <div class="assessment-item">
                    <h3>ğŸ¯ äº¤ä»˜è´¨é‡ç¨³å®šæ€§</h3>
                    <div class="problem-description">
                        <p><strong>å…¸å‹é—®é¢˜ï¼š</strong></p>
                        <ul>
                            <li>é¡¹ç›®å»¶æœŸé¢‘å‘ï¼Œäº¤ä»˜æ—¶é—´éš¾é¢„æµ‹</li>
                            <li>æµ‹è¯•é˜¶æ®µç»å¸¸å‘ç°é‡å¤§é—®é¢˜</li>
                            <li>è¿”å·¥ç‡é«˜ï¼Œå½±å“åç»­é¡¹ç›®</li>
                            <li>è´¨é‡æ ‡å‡†æ‰§è¡Œä¸ä¸€è‡´</li>
                        </ul>
                    </div>
                    <div class="score-selector" data-dimension="3">
                        <span class="score-option low" data-score="1">
                            1
                            <div class="score-tooltip">æä¸ç¨³å®šï¼šå»¶æœŸé¢‘å‘ï¼Œè´¨é‡æ— ä¿éšœï¼Œäº¤ä»˜æ—¶é—´å®Œå…¨æ— æ³•é¢„æµ‹</div>
                        </span>
                        <span class="score-option low" data-score="2">
                            2
                            <div class="score-tooltip">é—®é¢˜è¾ƒå¤šï¼šç»å¸¸å»¶æœŸï¼Œæµ‹è¯•é˜¶æ®µå‘ç°å¤§é‡é—®é¢˜ï¼Œè¿”å·¥ç‡é«˜</div>
                        </span>
                        <span class="score-option medium" data-score="3">
                            3
                            <div class="score-tooltip">åŸºæœ¬å¯æ§ï¼šæœ‰è´¨é‡æ ‡å‡†ï¼Œä½†æ‰§è¡Œä¸ä¸€è‡´ï¼Œå¶æœ‰å»¶æœŸå’Œè´¨é‡é—®é¢˜</div>
                        </span>
                        <span class="score-option high" data-score="4">
                            4
                            <div class="score-tooltip">ç¨³å®šäº¤ä»˜ï¼šè´¨é‡æµç¨‹æˆç†Ÿï¼Œäº¤ä»˜æ—¶é—´å¯é¢„æµ‹ï¼Œé—®é¢˜åŠæ—¶å‘ç°</div>
                        </span>
                        <span class="score-option high" data-score="5">
                            5
                            <div class="score-tooltip">å“è¶Šè´¨é‡ï¼šé›¶ç¼ºé™·äº¤ä»˜ï¼ŒæŒç»­æ”¹è¿›æœºåˆ¶ï¼Œé¢„æµ‹å‡†ç¡®ç‡90%ä»¥ä¸Š</div>
                        </span>
                    </div>
                </div>
                
                <div class="assessment-item">
                    <h3>ğŸ” é—®é¢˜å‘ç°åŠæ—¶æ€§</h3>
                    <div class="problem-description">
                        <p><strong>å…¸å‹é—®é¢˜ï¼š</strong></p>
                        <ul>
                            <li>é—®é¢˜å¾€å¾€åœ¨é¡¹ç›®åæœŸæ‰æš´éœ²</li>
                            <li>ç¼ºä¹æœ‰æ•ˆçš„é£é™©é¢„è­¦æœºåˆ¶</li>
                            <li>å›¢é˜Ÿæˆå‘˜ä¸æ„¿æ„ä¸»åŠ¨æ±‡æŠ¥é—®é¢˜</li>
                            <li>é—®é¢˜å‡çº§æœºåˆ¶ä¸å¤ŸåŠæ—¶</li>
                        </ul>
                    </div>
                    <div class="score-selector" data-dimension="4">
                        <span class="score-option low" data-score="1">
                            1
                            <div class="score-tooltip">é—®é¢˜æ½œä¼ï¼šé—®é¢˜åœ¨æœ€åé˜¶æ®µæš´éœ²ï¼Œæ— é¢„è­¦æœºåˆ¶ï¼ŒæŸå¤±ä¸¥é‡</div>
                        </span>
                        <span class="score-option low" data-score="2">
                            2
                            <div class="score-tooltip">å‘ç°æ»åï¼šé—®é¢˜å‘ç°è¾ƒæ™šï¼Œå›¢é˜Ÿä¸æ„¿ä¸»åŠ¨æ±‡æŠ¥ï¼Œå‡çº§å›°éš¾</div>
                        </span>
                        <span class="score-option medium" data-score="3">
                            3
                            <div class="score-tooltip">åŸºæœ¬ç›‘æ§ï¼šæœ‰å®šæœŸæ£€æŸ¥ï¼Œä½†é¢„è­¦æœºåˆ¶ä¸å®Œå–„ï¼Œå“åº”ä¸å¤ŸåŠæ—¶</div>
                        </span>
                        <span class="score-option high" data-score="4">
                            4
                            <div class="score-tooltip">åŠæ—¶é¢„è­¦ï¼šé£é™©ç›‘æ§æœºåˆ¶å®Œå–„ï¼Œé—®é¢˜æ—©æœŸå‘ç°ï¼Œå¿«é€Ÿå“åº”</div>
                        </span>
                        <span class="score-option high" data-score="5">
                            5
                            <div class="score-tooltip">ä¸»åŠ¨é˜²èŒƒï¼šé¢„æµ‹æ€§é£é™©è¯†åˆ«ï¼Œè‡ªåŠ¨åŒ–ç›‘æ§ï¼ŒæŒç»­ä¼˜åŒ–é¢„è­¦ä½“ç³»</div>
                        </span>
                    </div>
                </div>
                
                <div class="assessment-item">
                    <h3>ğŸ“ˆ èµ„æºé…ç½®æ•ˆç‡</h3>
                    <div class="problem-description">
                        <p><strong>å…¸å‹é—®é¢˜ï¼š</strong></p>
                        <ul>
                            <li>äººå‘˜å·¥ä½œé¥±å’Œåº¦ä¸å‡ï¼Œå¿™é—²ä¸å‡</li>
                            <li>æŠ€èƒ½åŒ¹é…åº¦ä½ï¼Œäººå²—ä¸é€‚</li>
                            <li>èµ„æºè°ƒé…å†³ç­–ç¼ºä¹æ•°æ®æ”¯æ’‘</li>
                            <li>å¤šé¡¹ç›®èµ„æºå†²çªå¤„ç†ä¸åŠæ—¶</li>
                        </ul>
                    </div>
                    <div class="score-selector" data-dimension="5">
                        <span class="score-option low" data-score="1">
                            1
                            <div class="score-tooltip">æ··ä¹±é…ç½®ï¼šèµ„æºåˆ†é…æ— åºï¼Œå¿™é—²ä¸¥é‡ä¸å‡ï¼ŒæŠ€èƒ½é”™é…ï¼Œå†²çªé¢‘å‘</div>
                        </span>
                        <span class="score-option low" data-score="2">
                            2
                            <div class="score-tooltip">ä½æ•ˆé…ç½®ï¼šèµ„æºåˆ†é…ä¸»è¦é ç»éªŒï¼Œç¼ºä¹æ•°æ®æ”¯æ’‘ï¼Œå†²çªå¤„ç†è¢«åŠ¨</div>
                        </span>
                        <span class="score-option medium" data-score="3">
                            3
                            <div class="score-tooltip">åŸºæœ¬åˆç†ï¼šæœ‰åŸºç¡€èµ„æºè§„åˆ’ï¼Œä½†çµæ´»æ€§ä¸è¶³ï¼Œä¼˜åŒ–ç©ºé—´è¾ƒå¤§</div>
                        </span>
                        <span class="score-option high" data-score="4">
                            4
                            <div class="score-tooltip">é«˜æ•ˆé…ç½®ï¼šæ•°æ®é©±åŠ¨å†³ç­–ï¼Œèµ„æºåˆ©ç”¨ç‡é«˜ï¼Œå†²çªå¤„ç†åŠæ—¶</div>
                        </span>
                        <span class="score-option high" data-score="5">
                            5
                            <div class="score-tooltip">æœ€ä¼˜é…ç½®ï¼šAIè¾…åŠ©èµ„æºè§„åˆ’ï¼ŒåŠ¨æ€è°ƒæ•´ï¼Œé¢„æµ‹æ€§é…ç½®ï¼ŒæŒç»­ä¼˜åŒ–</div>
                        </span>
                    </div>
                </div>
                
                <div class="assessment-item">
                    <h3>ğŸ’¡ æŒç»­æ”¹è¿›èƒ½åŠ›</h3>
                    <div class="problem-description">
                        <p><strong>å…¸å‹é—®é¢˜ï¼š</strong></p>
                        <ul>
                            <li>é¡¹ç›®ç»“æŸåç¼ºä¹å¤ç›˜æ€»ç»“</li>
                            <li>é‡å¤çŠ¯åŒæ ·çš„é”™è¯¯</li>
                            <li>æ”¹è¿›å»ºè®®è½åœ°æ‰§è¡Œå›°éš¾</li>
                            <li>å›¢é˜Ÿç¼ºä¹ä¸»åŠ¨æ”¹è¿›çš„æ–‡åŒ–æ°›å›´</li>
                        </ul>
                    </div>
                    <div class="score-selector" data-dimension="6">
                        <span class="score-option low" data-score="1">
                            1
                            <div class="score-tooltip">æ— æ”¹è¿›æ„è¯†ï¼šé¡¹ç›®æ— å¤ç›˜ï¼Œé‡å¤çŠ¯é”™ï¼Œæ— æ”¹è¿›æ–‡åŒ–ï¼Œé—®é¢˜å¾ªç¯å‘ç”Ÿ</div>
                        </span>
                        <span class="score-option low" data-score="2">
                            2
                            <div class="score-tooltip">æ”¹è¿›å›°éš¾ï¼šå¶æœ‰å¤ç›˜ä½†æµäºå½¢å¼ï¼Œæ”¹è¿›å»ºè®®éš¾è½åœ°ï¼Œç¼ºä¹åŠ¨åŠ›</div>
                        </span>
                        <span class="score-option medium" data-score="3">
                            3
                            <div class="score-tooltip">åˆæ­¥æ”¹è¿›ï¼šæœ‰å›é¡¾æœºåˆ¶ï¼Œæ”¹è¿›å»ºè®®éƒ¨åˆ†æ‰§è¡Œï¼Œä½†æ•ˆæœä¸ç¨³å®š</div>
                        </span>
                        <span class="score-option high" data-score="4">
                            4
                            <div class="score-tooltip">æŒç»­æ”¹è¿›ï¼šå®Œå–„çš„å›é¡¾æœºåˆ¶ï¼Œæ”¹è¿›å»ºè®®æœ‰æ•ˆè½åœ°ï¼Œå½¢æˆæ”¹è¿›å¾ªç¯</div>
                        </span>
                        <span class="score-option high" data-score="5">
                            5
                            <div class="score-tooltip">è‡ªé©±ä¼˜åŒ–ï¼šæ”¹è¿›æ–‡åŒ–æ·±å…¥äººå¿ƒï¼Œåˆ›æ–°æœºåˆ¶å®Œå–„ï¼ŒæŒç»­å­¦ä¹ è¿›åŒ–</div>
                        </span>
                    </div>
                </div>
                
                <div class="assessment-item">
                    <h3>ğŸ“¢ ä¿¡æ¯ä¼ é€’æœ‰æ•ˆæ€§</h3>
                    <div class="problem-description">
                        <p><strong>å…¸å‹é—®é¢˜ï¼š</strong></p>
                        <ul>
                            <li>é‡è¦ä¿¡æ¯ä¼ é€’å±‚çº§å¤šï¼Œå®¹æ˜“å¤±çœŸ</li>
                            <li>ä¼šè®®è¿‡å¤šä½†å†³ç­–æ•ˆç‡ä½</li>
                            <li>å…³é”®ä¿¡æ¯æ›´æ–°ä¸åŠæ—¶</li>
                            <li>ä¿¡æ¯è·å–æ¸ é“åˆ†æ•£ï¼Œéš¾ä»¥æ•´åˆ</li>
                        </ul>
                    </div>
                    <div class="score-selector" data-dimension="7">
                        <span class="score-option low" data-score="1">
                            1
                            <div class="score-tooltip">ä¸¥é‡å¤±çœŸï¼šä¿¡æ¯ä¼ é€’æ··ä¹±ï¼Œä¼šè®®æ³›æ»¥ä½†æ— æ•ˆï¼Œå…³é”®ä¿¡æ¯ç»å¸¸ä¸¢å¤±</div>
                        </span>
                        <span class="score-option low" data-score="2">
                            2
                            <div class="score-tooltip">ä¼ é€’ä½æ•ˆï¼šä¿¡æ¯å±‚çº§è¿‡å¤šå®¹æ˜“å¤±çœŸï¼Œä¼šè®®æ•ˆç‡ä½ï¼Œæ›´æ–°ä¸åŠæ—¶</div>
                        </span>
                        <span class="score-option medium" data-score="3">
                            3
                            <div class="score-tooltip">åŸºæœ¬æœ‰æ•ˆï¼šæœ‰åŸºç¡€æ²Ÿé€šæœºåˆ¶ï¼Œä½†æ•ˆç‡æœ‰å¾…æå‡ï¼Œä¿¡æ¯æ•´åˆå›°éš¾</div>
                        </span>
                        <span class="score-option high" data-score="4">
                            4
                            <div class="score-tooltip">é«˜æ•ˆä¼ é€’ï¼šä¿¡æ¯æ¸ é“ç•…é€šï¼Œå†³ç­–æ•ˆç‡é«˜ï¼Œä¿¡æ¯åŠæ—¶å‡†ç¡®</div>
                        </span>
                        <span class="score-option high" data-score="5">
                            5
                            <div class="score-tooltip">æ™ºèƒ½ä¿¡æ¯ï¼šè‡ªåŠ¨åŒ–ä¿¡æ¯æµè½¬ï¼Œæ™ºèƒ½æ¨é€ï¼Œå†³ç­–æ”¯æŒç³»ç»Ÿå®Œå–„</div>
                        </span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="results-section" id="resultsSection" style="display: none;">
            <h3>ğŸ“‹ è¯„ä¼°ç»“æœåˆ†æ</h3>
            <p id="overallScore"></p>
            <div class="improvement-areas" id="improvementAreas"></div>
        </div>
        
        <div class="button-group">
            <button class="btn btn-primary" onclick="generateReport()">ç”Ÿæˆåˆ†ææŠ¥å‘Š</button>
            <button class="btn btn-secondary" onclick="resetAssessment()">é‡æ–°è¯„ä¼°</button>
        </div>
        
        <!-- æäº¤è¡¨å• -->
        <div id="submitSection" style="display: none; margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
            <h3>ğŸ“ æäº¤è¯„ä¼°</h3>
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">å§“åï¼š</label>
                <input type="text" id="respondentName" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 5px;" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å">
            </div>
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">å›¢é˜Ÿï¼š</label>
                <input type="text" id="respondentTeam" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 5px;" placeholder="è¯·è¾“å…¥æ‚¨çš„å›¢é˜Ÿ">
            </div>
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: bold;">å¤‡æ³¨ï¼ˆå¯é€‰ï¼‰ï¼š</label>
                <textarea id="notes" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 5px; height: 80px;" placeholder="è¯·è¾“å…¥å…¶ä»–æ„è§æˆ–å»ºè®®"></textarea>
            </div>
            <div class="button-group">
                <button class="btn btn-primary" onclick="submitAssessment()">æäº¤è¯„ä¼°</button>
            </div>
        </div>
    </div>

    <script>
        const dimensions = [
            'é¡¹ç›®è¿›åº¦é€æ˜åº¦',
            'éœ€æ±‚å“åº”é€Ÿåº¦', 
            'å›¢é˜Ÿåä½œæ•ˆç‡',
            'äº¤ä»˜è´¨é‡ç¨³å®šæ€§',
            'é—®é¢˜å‘ç°åŠæ—¶æ€§',
            'èµ„æºé…ç½®æ•ˆç‡',
            'æŒç»­æ”¹è¿›èƒ½åŠ›',
            'ä¿¡æ¯ä¼ é€’æœ‰æ•ˆæ€§'
        ];
        
        const scores = new Array(8).fill(0);
        const canvas = document.getElementById('wheelCanvas');
        const ctx = canvas.getContext('2d');
        
        function drawWheel() {
            const canvas = document.getElementById('wheelCanvas');
            const ctx = canvas.getContext('2d');
            const canvasSize = canvas.width;
            
            ctx.clearRect(0, 0, canvasSize, canvasSize);
            
            const centerX = canvasSize / 2;
            const centerY = canvasSize / 2;
            const maxRadius = canvasSize * 0.375; // 150/400 = 0.375
            
            // ç»˜åˆ¶åŒå¿ƒåœ†
            for (let i = 1; i <= 5; i++) {
                ctx.beginPath();
                ctx.arc(centerX, centerY, (maxRadius / 5) * i, 0, 2 * Math.PI);
                ctx.strokeStyle = '#e0e0e0';
                ctx.lineWidth = 1;
                ctx.stroke();
                
                // æ·»åŠ åˆ†å€¼æ ‡ç­¾
                ctx.fillStyle = '#999';
                const fontSize = Math.max(10, canvasSize * 0.03); // å“åº”å¼å­—ä½“å¤§å°
                ctx.font = `${fontSize}px Arial`;
                ctx.textAlign = 'center';
                const labelOffset = Math.max(8, canvasSize * 0.025); // å“åº”å¼åç§»
                ctx.fillText(i.toString(), centerX + (maxRadius / 5) * i - labelOffset, centerY - labelOffset);
            }
            
            // ç»˜åˆ¶åˆ†å‰²çº¿å’Œæ ‡ç­¾
            for (let i = 0; i < 8; i++) {
                const angle = (i * 45 - 90) * Math.PI / 180;
                const x = centerX + Math.cos(angle) * maxRadius;
                const y = centerY + Math.sin(angle) * maxRadius;
                
                ctx.beginPath();
                ctx.moveTo(centerX, centerY);
                ctx.lineTo(x, y);
                ctx.strokeStyle = '#e0e0e0';
                ctx.lineWidth = 1;
                ctx.stroke();
                
                // æ·»åŠ ç»´åº¦æ ‡ç­¾
                const labelX = centerX + Math.cos(angle) * (maxRadius + 25);
                const labelY = centerY + Math.sin(angle) * (maxRadius + 25);
                
                ctx.fillStyle = '#2c3e50';
                ctx.font = 'bold 12px Arial';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                
                // åˆ†è¡Œæ˜¾ç¤ºé•¿æ ‡ç­¾
                const text = dimensions[i];
                if (text.length > 6) {
                    const midPoint = Math.ceil(text.length / 2);
                    ctx.fillText(text.substring(0, midPoint), labelX, labelY - 8);
                    ctx.fillText(text.substring(midPoint), labelX, labelY + 8);
                } else {
                    ctx.fillText(text, labelX, labelY);
                }
            }
            
            // ç»˜åˆ¶è¯„åˆ†å¤šè¾¹å½¢
            if (scores.some(score => score > 0)) {
                ctx.beginPath();
                for (let i = 0; i < 8; i++) {
                    const angle = (i * 45 - 90) * Math.PI / 180;
                    const radius = (scores[i] / 5) * maxRadius;
                    const x = centerX + Math.cos(angle) * radius;
                    const y = centerY + Math.sin(angle) * radius;
                    
                    if (i === 0) {
                        ctx.moveTo(x, y);
                    } else {
                        ctx.lineTo(x, y);
                    }
                }
                ctx.closePath();
                ctx.fillStyle = 'rgba(52, 152, 219, 0.3)';
                ctx.fill();
                ctx.strokeStyle = '#3498db';
                ctx.lineWidth = 2;
                ctx.stroke();
                
                // ç»˜åˆ¶è¯„åˆ†ç‚¹
                for (let i = 0; i < 8; i++) {
                    const angle = (i * 45 - 90) * Math.PI / 180;
                    const radius = (scores[i] / 5) * maxRadius;
                    const x = centerX + Math.cos(angle) * radius;
                    const y = centerY + Math.sin(angle) * radius;
                    
                    ctx.beginPath();
                    ctx.arc(x, y, 4, 0, 2 * Math.PI);
                    ctx.fillStyle = '#3498db';
                    ctx.fill();
                }
            }
        }
        
        // è¯„åˆ†é€‰æ‹©äº‹ä»¶
        document.querySelectorAll('.score-option').forEach(option => {
            option.addEventListener('click', function() {
                const dimension = parseInt(this.closest('.score-selector').dataset.dimension);
                const score = parseInt(this.dataset.score);
                
                // æ›´æ–°é€‰ä¸­çŠ¶æ€
                this.closest('.score-selector').querySelectorAll('.score-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                this.classList.add('selected');
                
                // æ›´æ–°åˆ†æ•°
                scores[dimension] = score;
                
                // é‡ç»˜å›¾è¡¨
                drawWheel();
            });
        });
        
        function generateReport() {
            const totalScore = scores.reduce((sum, score) => sum + score, 0);
            const averageScore = totalScore / 8;
            
            if (totalScore === 0) {
                alert('è¯·å…ˆå®Œæˆè¯„ä¼°ï¼');
                return;
            }
            
            // æ˜¾ç¤ºç»“æœåŒºåŸŸ
            document.getElementById('resultsSection').style.display = 'block';
            
            // æ€»ä½“è¯„åˆ†
            const overallElement = document.getElementById('overallScore');
            overallElement.innerHTML = `
                <strong>æ€»ä½“è¯„åˆ†ï¼š${averageScore.toFixed(1)}/5.0</strong>
                <br>æ•´ä½“ç®¡ç†æ•ˆèƒ½å¤„äº${getScoreLevel(averageScore)}æ°´å¹³
            `;
            
            // æ”¹è¿›å»ºè®®
            const improvementAreas = document.getElementById('improvementAreas');
            const lowScores = scores.map((score, index) => ({
                dimension: dimensions[index],
                score: score,
                index: index
            })).filter(item => item.score <= 3 && item.score > 0).sort((a, b) => a.score - b.score);
            
            if (lowScores.length > 0) {
                improvementAreas.innerHTML = lowScores.map(item => `
                    <div class="improvement-item">
                        <h4>${item.dimension} (${item.score}/5)</h4>
                        <p>${getImprovementSuggestion(item.index)}</p>
                    </div>
                `).join('');
            } else {
                improvementAreas.innerHTML = '<p style="text-align: center; color: #27ae60;">ğŸ‰ å„ç»´åº¦è¡¨ç°è‰¯å¥½ï¼Œå»ºè®®ä¿æŒå¹¶æŒç»­ä¼˜åŒ–ï¼</p>';
            }
            
            // æ˜¾ç¤ºæäº¤åŒºåŸŸ
            document.getElementById('submitSection').style.display = 'block';
            
            // æ»šåŠ¨åˆ°ç»“æœåŒºåŸŸ
            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
        }
        
        function getScoreLevel(score) {
            if (score >= 4) return 'ä¼˜ç§€';
            if (score >= 3) return 'è‰¯å¥½';
            if (score >= 2) return 'ä¸€èˆ¬';
            return 'å¾…æ”¹è¿›';
        }
        
        function getImprovementSuggestion(dimensionIndex) {
            const suggestions = [
                'å»ºè®®å¼•å…¥çœ‹æ¿ç®¡ç†ï¼Œè®©é¡¹ç›®çŠ¶æ€ä¸€ç›®äº†ç„¶',
                'å¯é€šè¿‡å·¥ä½œæµä¼˜åŒ–å’Œå¹¶è¡Œå¤„ç†æå‡å“åº”é€Ÿåº¦',
                'å»ºç«‹è·¨å›¢é˜Ÿåä½œæœºåˆ¶ï¼Œå¦‚æ¯æ—¥ç«™ä¼šå’Œå®šæœŸåŒæ­¥',
                'å®Œå–„è´¨é‡ç®¡æ§æµç¨‹ï¼Œå»ºç«‹äº¤ä»˜æ ‡å‡†æ£€æŸ¥æ¸…å•',
                'å»ºç«‹é£é™©é¢„è­¦æœºåˆ¶ï¼Œå®šæœŸé£é™©è¯†åˆ«å’Œè¯„ä¼°',
                'é€šè¿‡å¯è§†åŒ–å·¥å…·ä¼˜åŒ–èµ„æºåˆ†é…å’Œå·¥ä½œè´Ÿè·ç®¡ç†',
                'å»ºç«‹å›é¡¾ä¼šè®®åˆ¶åº¦ï¼Œé¼“åŠ±å›¢é˜Ÿä¸»åŠ¨æ”¹è¿›',
                'ä¼˜åŒ–ä¿¡æ¯æµè½¬æœºåˆ¶ï¼Œå»ºç«‹æœ‰æ•ˆçš„æ²Ÿé€šæ¸ é“'
            ];
            return suggestions[dimensionIndex];
        }
        
        function resetAssessment() {
            scores.fill(0);
            document.querySelectorAll('.score-option').forEach(option => {
                option.classList.remove('selected');
            });
            document.getElementById('resultsSection').style.display = 'none';
            document.getElementById('submitSection').style.display = 'none';
            drawWheel();
        }
        
        // æäº¤è¯„ä¼°æ•°æ®
        async function submitAssessment() {
            const respondentName = document.getElementById('respondentName').value.trim();
            const respondentTeam = document.getElementById('respondentTeam').value.trim();
            const notes = document.getElementById('notes').value.trim();
            
            if (!respondentName) {
                alert('è¯·è¾“å…¥å§“å');
                return;
            }
            
            // è·å–URLå‚æ•°ä¸­çš„surveyId
            const urlParams = new URLSearchParams(window.location.search);
            const surveyId = urlParams.get('survey') || 'default-survey';
            
            try {
                const response = await fetch('/api/assessments', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        surveyId,
                        respondentName,
                        respondentTeam,
                        scores,
                        notes
                    })
                });
                
                const result = await response.json();
                
                if (response.ok) {
                    alert('è¯„ä¼°æäº¤æˆåŠŸï¼æ„Ÿè°¢æ‚¨çš„å‚ä¸ã€‚');
                    // å¯ä»¥é€‰æ‹©é‡ç½®è¡¨å•æˆ–è·³è½¬åˆ°æ„Ÿè°¢é¡µé¢
                    resetAssessment();
                } else {
                    alert('æäº¤å¤±è´¥ï¼š' + result.error);
                }
            } catch (error) {
                console.error('æäº¤é”™è¯¯:', error);
                alert('æäº¤å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥');
            }
        }
        
        // æ™ºèƒ½tooltipå®šä½åŠŸèƒ½
        function setupSmartTooltips() {
            const scoreOptions = document.querySelectorAll('.score-option');
            
            scoreOptions.forEach(option => {
                const tooltip = option.querySelector('.score-tooltip');
                if (!tooltip) return;
                
                option.addEventListener('mouseenter', function(e) {
                    positionTooltip(tooltip, option);
                });
                
                option.addEventListener('focus', function(e) {
                    positionTooltip(tooltip, option);
                });
            });
        }
        
        function positionTooltip(tooltip, option) {
            const optionRect = option.getBoundingClientRect();
            const tooltipRect = tooltip.getBoundingClientRect();
            const viewportWidth = window.innerWidth;
            const viewportHeight = window.innerHeight;
            const margin = 20;
            
            // é‡ç½®tooltipæ ·å¼
            tooltip.style.position = 'absolute';
            tooltip.style.bottom = '100%';
            tooltip.style.left = '50%';
            tooltip.style.transform = 'translateX(-50%)';
            tooltip.style.top = 'auto';
            tooltip.style.right = 'auto';
            
            // æ£€æŸ¥æ˜¯å¦ä¼šè¶…å‡ºå±å¹•é¡¶éƒ¨
            if (optionRect.top - tooltipRect.height - margin < 0) {
                // å¦‚æœä¼šè¶…å‡ºé¡¶éƒ¨ï¼Œæ˜¾ç¤ºåœ¨åº•éƒ¨
                tooltip.style.bottom = 'auto';
                tooltip.style.top = '100%';
                tooltip.style.marginBottom = '0';
                tooltip.style.marginTop = '12px';
                
                // è°ƒæ•´ç®­å¤´æ–¹å‘
                tooltip.style.setProperty('--arrow-direction', 'bottom');
            } else {
                tooltip.style.marginBottom = '12px';
                tooltip.style.marginTop = '0';
                tooltip.style.setProperty('--arrow-direction', 'top');
            }
            
            // æ£€æŸ¥æ˜¯å¦ä¼šè¶…å‡ºå±å¹•å·¦å³è¾¹ç•Œ
            const tooltipLeft = optionRect.left + optionRect.width / 2 - tooltipRect.width / 2;
            if (tooltipLeft < margin) {
                // å¦‚æœä¼šè¶…å‡ºå·¦è¾¹ç•Œï¼Œè°ƒæ•´ä½ç½®
                tooltip.style.left = `${margin - optionRect.left}px`;
                tooltip.style.transform = 'none';
            } else if (tooltipLeft + tooltipRect.width > viewportWidth - margin) {
                // å¦‚æœä¼šè¶…å‡ºå³è¾¹ç•Œï¼Œè°ƒæ•´ä½ç½®
                const rightSpace = viewportWidth - margin - (optionRect.left + optionRect.width);
                tooltip.style.left = 'auto';
                tooltip.style.right = `${rightSpace}px`;
                tooltip.style.transform = 'none';
            }
            
            // æ·»åŠ ç®­å¤´æ ·å¼è°ƒæ•´
            updateTooltipArrow(tooltip);
        }
        
        function updateTooltipArrow(tooltip) {
            const arrowDirection = tooltip.style.getPropertyValue('--arrow-direction');
            const existingStyle = tooltip.getAttribute('style') || '';
            
            // ç§»é™¤ç°æœ‰çš„ç®­å¤´æ ·å¼
            tooltip.style.setProperty('--arrow-top', 'none');
            tooltip.style.setProperty('--arrow-bottom', 'none');
            
            if (arrowDirection === 'bottom') {
                // åº•éƒ¨ç®­å¤´
                tooltip.style.setProperty('--arrow-bottom', `
                    content: '';
                    position: absolute;
                    bottom: 100%;
                    left: 50%;
                    transform: translateX(-50%);
                    border: 8px solid transparent;
                    border-bottom-color: #667eea;
                    filter: drop-shadow(0 -3px 6px rgba(102, 126, 234, 0.3));
                `);
            } else {
                // é¡¶éƒ¨ç®­å¤´ï¼ˆé»˜è®¤ï¼‰
                tooltip.style.setProperty('--arrow-top', `
                    content: '';
                    position: absolute;
                    top: 100%;
                    left: 50%;
                    transform: translateX(-50%);
                    border: 8px solid transparent;
                    border-top-color: #667eea;
                    filter: drop-shadow(0 3px 6px rgba(102, 126, 234, 0.3));
                `);
            }
        }
        
        // å“åº”å¼Canvaså°ºå¯¸è°ƒæ•´
        function resizeCanvas() {
            const canvas = document.getElementById('wheelCanvas');
            const container = canvas.parentElement;
            const containerWidth = container.offsetWidth;
            
            if (window.innerWidth <= 480) {
                canvas.width = 250;
                canvas.height = 250;
            } else if (window.innerWidth <= 768) {
                canvas.width = 280;
                canvas.height = 280;
            } else {
                canvas.width = 400;
                canvas.height = 400;
            }
            
            // é‡æ–°ç»˜åˆ¶
            drawWheel();
        }
        
        // ç›‘å¬çª—å£å¤§å°å˜åŒ–
        window.addEventListener('resize', resizeCanvas);
        
        // åˆå§‹åŒ–ç»˜åˆ¶
        resizeCanvas();
        
        // åˆå§‹åŒ–æ™ºèƒ½tooltipåŠŸèƒ½
        setupSmartTooltips();
    </script>
</body>
</html>